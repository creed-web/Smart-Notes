<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Export Dropdown Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            width: 400px;
            margin: 20px auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .container {
            background: white;
            border-radius: 12px;
            margin: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            overflow: visible;
            padding: 20px;
        }

        .results {
            margin-top: 15px;
            position: relative;
            overflow: visible;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
            position: relative;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            position: relative;
        }

        .secondary-btn {
            padding: 8px 12px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .secondary-btn:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .secondary-btn.active {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        /* Export dropdown styling */
        .export-dropdown {
            position: absolute;
            top: calc(100% + 5px);
            right: 0;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            min-width: 260px;
            max-width: 320px;
            width: max-content;
            max-height: 280px;
            overflow-y: auto;
            animation: dropdownSlideIn 0.2s ease-out;
            margin-top: 2px;
            /* Ensure dropdown stays within popup boundaries */
            transform: translateX(-10px);
        }

        @keyframes dropdownSlideIn {
            from {
                opacity: 0;
                transform: translateX(-10px) translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(-10px) translateY(0);
            }
        }

        .export-section {
            padding: 8px 0;
        }

        .export-section:not(:last-child) {
            border-bottom: 1px solid #f1f3f4;
        }

        .export-section-title {
            font-size: 11px;
            font-weight: 600;
            color: #718096;
            padding: 8px 16px 4px 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .export-option {
            width: 100%;
            border: none;
            background: none;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .export-option:hover:not(:disabled) {
            background: #f8f9fa;
            transform: translateX(2px);
        }

        .export-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .export-details {
            flex: 1;
        }

        .export-name {
            font-weight: 500;
            color: #2d3748;
            font-size: 13px;
            margin-bottom: 2px;
        }

        .export-desc {
            color: #718096;
            font-size: 11px;
            line-height: 1.3;
        }

        .demo-notes {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-size: 14px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>üìù Smart Notes - Export Dropdown Test</h2>
        
        <div class="results">
            <div class="results-header">
                <h3>üìã Smart Notes Generated</h3>
                <div class="action-buttons">
                    <button class="secondary-btn">
                        üìã Copy
                    </button>
                    <button id="exportMenu" class="secondary-btn" onclick="toggleDropdown()">
                        üì§ Export ‚ñº
                    </button>
                    <div id="exportDropdown" class="export-dropdown" style="display: none;">
                        <div class="export-section">
                            <div class="export-section-title">üìÑ File Formats</div>
                            <button class="export-option">
                                <span class="export-icon">üìÑ</span>
                                <div class="export-details">
                                    <div class="export-name">PDF Document</div>
                                    <div class="export-desc">Professional PDF with formatting</div>
                                </div>
                            </button>
                            <button class="export-option">
                                <span class="export-icon">üìù</span>
                                <div class="export-details">
                                    <div class="export-name">Markdown</div>
                                    <div class="export-desc">Universal markdown format</div>
                                </div>
                            </button>
                            <button class="export-option">
                                <span class="export-icon">üåê</span>
                                <div class="export-details">
                                    <div class="export-name">HTML Document</div>
                                    <div class="export-desc">Styled web page</div>
                                </div>
                            </button>
                        </div>
                        
                        <div class="export-section">
                            <div class="export-section-title">üöÄ Platforms</div>
                            <button class="export-option">
                                <span class="export-icon">üîó</span>
                                <div class="export-details">
                                    <div class="export-name">Obsidian</div>
                                    <div class="export-desc">Enhanced markdown for Obsidian</div>
                                </div>
                            </button>
                            <button class="export-option">
                                <span class="export-icon">üìì</span>
                                <div class="export-details">
                                    <div class="export-name">OneNote</div>
                                    <div class="export-desc">Microsoft OneNote format</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="demo-notes">
                <p><strong>üìã Sample Smart Notes</strong></p>
                <p>This is a demonstration of the improved export dropdown positioning. Click the "Export ‚ñº" button above to see how the dropdown now appears right next to the button instead of at the bottom of the page.</p>
                
                <p><strong>‚ú® Improvements Made:</strong></p>
                <ul>
                    <li>Dropdown positioned relative to action-buttons container</li>
                    <li>Added translateX(-10px) to keep dropdown within popup boundaries</li>
                    <li>Reduced max-height to prevent extending beyond viewport</li>
                    <li>Added proper overflow handling to containers</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function toggleDropdown() {
            const dropdown = document.getElementById('exportDropdown');
            const button = document.getElementById('exportMenu');
            
            if (dropdown.style.display === 'none' || dropdown.style.display === '') {
                dropdown.style.display = 'block';
                button.classList.add('active');
            } else {
                dropdown.style.display = 'none';
                button.classList.remove('active');
            }
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.action-buttons')) {
                document.getElementById('exportDropdown').style.display = 'none';
                document.getElementById('exportMenu').classList.remove('active');
            }
        });
    </script>
</body>
</html>
